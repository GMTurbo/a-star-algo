var Node=function(t){t=_.defaults(t,{h:0,g:0,width:1,i:0,j:0,wall:!1,index:0}),this.i=t.i,this.j=t.j,this.width=t.width,this.x=this.i*this.width,this.y=this.j*this.width,this.wall=t.wall,this.H=t.h,this.G=t.wall?1e3:t.g,this.F=this.H+this.G,this.parent=null,this.open=-1,this.scaler=5,this.opacity=0,this.inPath=!1,this.finished=!1,this.startingNode=!1,this.endingNode=!1,this.index=t.index};Node.prototype.getColor=function(){var t;switch(this.open){case 0:t="rgba(255,200,0,200)";break;case 1:t="rgba(171,241,55,200)";break;default:t="rgba(255,0,0,"+this.opacity+")"}return this.wall&&(t="rgba(254,100,100,200)"),this.inPath&&(t="rgba(171,0,55,200)"),(this.startingNode||this.endingNode||this.finished)&&(t="rgba(0,0,255,200)"),t},Node.prototype.getShadowColor=function(){switch(this.open){case 0:return"rgba(0,0,0,1)";case 1:return"rgba(0,0,0,10)";default:return"rgba(0,0,0,10)"}},Node.prototype.setMovementCost=function(t){this.G=t,this.F=this.H+this.G},Node.prototype.setHueristic=function(t){this.H=t,this.F=this.H+this.G},Node.prototype.setParent=function(t){this.parent=t},Node.prototype.draw=function(t){this.getCenter();t.beginPath(),t.lineWeight=this.wall?10:1,t.fillStyle=this.getColor(),t.rect(this.x,this.y,this.width,this.width),t.closePath(),t.fill(),this.wall&&t.stroke()},Node.prototype.getCenter=function(){return{x:this.x+this.width/2,y:this.y+this.width/2}},Node.prototype.drawFromCamera=function(t){this.getCenter();t.beginPath(),t.fillStyle=this.getColor(),t.shadowColor=this.getShadowColor(),t.rect(this.x,this.y,this.width,this.width),t.closePath(),t.shadowBlur=10,t.fill(),t.stroke(),t.closePath()},Node.prototype.calculateOffsetsFromCamera=function(t){var i=this.getCenter(),e=[i.x-t[0],i.y-t[1]];this.state=this.getDistance({x:t[0],y:t[1]})<this.width/2?1:0;var h=Math.atan2(e[1],e[0]);return[this.width/this.scaler*Math.cos(h),this.width/this.scaler*Math.sin(h)]},Node.prototype.setStateFromMouse=function(){},Node.prototype.getIndex=function(){return this.index},Node.prototype.getDistance=function(t){var i=this.getCenter();return Math.sqrt(Math.pow(i.x-t.x,2)+Math.pow(i.y-t.y,2))};